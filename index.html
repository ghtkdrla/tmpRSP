<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>멋쟁이사자처럼 가위바위보 김상호</title>
    <style>
      body {
        background-color: white;
      }

      h1,
      h2,
      h3 {
        text-align: center;
      }

      h3 {
        color: red;
        font-style: italic;
      }
      #user,
      #computer {
        width: 250px;
        height: 250px;
        margin: 30px;
        background-color: black;
      }
      img {
        align-items: center;
        width: 30px;
        height: 30px;
        object-fit: contain;
      }
      .chooseone {
        text-align: center;
      }
      .game {
        display: flex;
        text-align: center;
        justify-content: center;
      }
      #user-result,
      #com-result {
        font-size: 30px;
        font-weight: bolder;
        color: green;
      }
    </style>
  </head>
  <body>
    <h1>가위 바위 보!</h1>
    <h2 id="result">Good Luck!</h2>
    <div class="game">
      <div class="user-wrap">
        <div id="user-result">You : 0</div>
        <img id="user" src="가위.png" alt="가위" />
      </div>
      <div class="com-wrap">
        <div id="com-result">computer : 0</div>
        <img id="computer" src="가위.png" alt="가위" />
      </div>
    </div>
    <h3>Choose One !</h3>
    <div class="chooseone">
      <button type="button">
        <img id="scissors" src="가위.png" alt="가위" />
      </button>
      <button type="button">
        <img id="rock" src="바위.png" alt="바위" />
      </button>
      <button type="button">
        <img id="paper" src="보.png" alt="보" />
      </button>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script>
      var com = ["scissors", "rock", "paper"]; //배열안에 가위, 바위, 보 저장
      var userwin = 0; //사용자 이길때마다 ++
      var comwin = 0; // 컴퓨터 이길때마다 ++
      function compImgChange(num) {
        if (num == 0) {
          document.getElementById("computer").src = "가위.png";
        } else if (num == 1) {
          document.getElementById("computer").src = "바위.png";
        } else {
          document.getElementById("computer").src = "보.png";
        }
      }
      function clickScissors() {
        //가위버튼 클릭시 실행함수
        var choice = Math.floor(Math.random() * 3); //클릭시 0, 1, 2중 랜덤정수 저장
        document.getElementById("user").src = "가위.png"; //사용자 이미지 가위로 변경
        compImgChange(choice); // 컴퓨터 이미지 랜덤정수를 토대로 변경
        if (com[choice] == "rock") {
          //컴퓨터 바위인 경우
          comwin++; //컴퓨터이긴횟수 ++
          $("#result").css("color", "blue");
          document.getElementById("com-result").innerText =
            "computer : " + comwin;
          document.getElementById("result").innerText = "LOSE...";
        } else if (com[choice] == "paper") {
          //컴퓨터 보 경우
          userwin++;
          $("#result").css("color", "red");
          document.getElementById("user-result").innerText = "YOU : " + userwin;
          document.getElementById("result").innerText = "WIN!!";
        } else {
          //컴퓨터 가위 경우
          $("#result").css("color", "gray");
          document.getElementById("result").innerText = "TIE!";
        }
      }
      //같은 방식. 총 9가지 case
      function clickRock() {
        var choice = Math.floor(Math.random() * 3);
        document.getElementById("user").src = "바위.png";
        compImgChange(choice);
        if (com[choice] == "paper") {
          comwin++;
          $("#result").css("color", "blue");
          document.getElementById("com-result").innerText =
            "computer : " + comwin;
          document.getElementById("result").innerText = "LOSE...";
        } else if (com[choice] == "scissors") {
          userwin++;
          $("#result").css("color", "red");
          document.getElementById("user-result").innerText = "YOU : " + userwin;
          document.getElementById("result").innerText = "WIN!!";
        } else {
          $("#result").css("color", "gray");
          document.getElementById("result").innerText = "TIE!";
        }
      }
      function clickPaper() {
        var choice = Math.floor(Math.random() * 3);
        document.getElementById("user").src = "보.png";
        compImgChange(choice);
        if (com[choice] == "scissors") {
          comwin++;
          $("#result").css("color", "blue");
          document.getElementById("com-result").innerText =
            "computer : " + comwin;
          document.getElementById("result").innerText = "LOSE...";
        } else if (com[choice] == "rock") {
          userwin++;
          $("#result").css("color", "red");
          document.getElementById("user-result").innerText = "YOU : " + userwin;
          document.getElementById("result").innerText = "WIN!!";
        } else {
          $("#result").css("color", "gray");
          document.getElementById("result").innerText = "TIE!";
        }
      }
      $("#scissors").click(clickScissors);
      $("#rock").click(clickRock);
      $("#paper").click(clickPaper);
    </script>
  </body>
</html>
